<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Project 5</title>
  </head>
  <body style='margin-left: 30px;'>

    <h1>Select a Major</h1>
    <input type="button" name="btn1" value="CIT Majors">
    <input type="button" name="btn2" value="Business Majors">
    <h2>We filter our dataset by major</h2>
  </body>

  <script>

      document.addEventListener('DOMContentLoaded', function() {

      	document.querySelector('#btn').onclick = async function(){
  			var response = await fetch('cit5students.json');       

  			if(response.ok) {
  				var data = await response.json();


  				var tableContents = "<table cellspacing='5'>"
  				tableContents += "<tr><td>Name</td><td>Midterm</td><td>Final</td></tr>";

              	for(i = 0; i < data.length; i++) {
                      tableContents += `<tr><td> ${data[i].name} </td>
  						<td> ${data[i].midterm} </td>
  						<td> ${data[i].final} </td></tr>`;  // generate table using template literals
                  }

                  tableContents += "</table>";

                  document.querySelector('#result').innerHTML = tableContents;
  			}
  			else {
  				document.querySelector('#result').innerHTML = "Data not found";
  			}
      	};

    	});

  </script>



</html>
